(()=>{"use strict";var e={20:(e,t,o)=>{var r=o(609),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,o){var r,n={},i=null,u=null;for(r in void 0!==o&&(i=""+o),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(u=t.ref),t)c.call(t,r)&&!a.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:s,type:e,key:i,ref:u,props:n,_owner:l.current}}t.Fragment=n,t.jsx=i,t.jsxs=i},848:(e,t,o)=>{e.exports=o(20)},609:e=>{e.exports=window.React}},t={};const o=window.wc.blocksCheckout,r=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"klaviyo/klaviyo-checkout-block","version":"0.1.0","title":"Klaviyo","category":"woocommerce","description":"Klaviyo\'s marketing consent checkbox.","supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"parent":["woocommerce/checkout-contact-information-block"],"textdomain":"klaviyo-checkout-block","editorScript":"file:./index.js","viewScript":"file:./frontend.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),s=window.wp.element,n=window.wc.wcSettings;var c=function o(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}(848);const{newsletterText:l,smsConsentText:a,smsConsentDisclosureText:i,smsEnabled:u,newsletterEnabled:f}=(0,n.getSetting)("klaviyo_checkout_block_data");(0,o.registerCheckoutBlock)({metadata:r,component:({checkoutExtensionData:e={}})=>{const[t,r]=(0,s.useState)(!1),[n,d]=(0,s.useState)(!1),{setExtensionData:k}=e;return(0,s.useEffect)((()=>{k&&u&&k("klaviyo","sms",n)}),[n,k]),(0,s.useEffect)((()=>{k&&f&&k("klaviyo","newsletter",t)}),[t,k]),f||u?(0,c.jsxs)(c.Fragment,{children:[f&&(0,c.jsx)(o.CheckboxControl,{checked:t,onChange:r,children:(0,c.jsx)("span",{children:l})}),u&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.CheckboxControl,{checked:n,onChange:d,children:(0,c.jsx)("span",{children:a})}),n&&(0,c.jsx)("p",{children:i})]})]}):null}})})();